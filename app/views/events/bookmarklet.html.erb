var d=document,
w=window,
e=w.getSelection,
k=d.getSelection,
x=d.selection,
s=( e ? e() : (k) ? k() : ( x ? x.createRange() : 0)),
range = document.createRange();
range.setStart(s.anchorNode,s.anchorOffset);
range.setEnd(s.focusNode,s.focusOffset);

XMLSerializer().serializeToString(range.cloneContents());
console.log(XMLSerializer().serializeToString(range.cloneContents()))	
